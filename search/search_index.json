{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"DeepLEAP <p>Deep-sequence Long-read Envelope Alignment Pipeline</p> <p>DeepLEAP is a Nextflow pipeline designed to perform codon-aware alignments of long-read sequencing data. Although initially designed for HIV envelope sequences, it can be adapted for other coding sequences.</p> <p></p> Execution diagram of the DeepLEAP pipeline."},{"location":"getting_started/","title":"Getting Started","text":""},{"location":"getting_started/#getting-started","title":"Getting Started","text":""},{"location":"getting_started/#prerequisites","title":"Prerequisites","text":"<p>DeepLEAP is built using Nextflow version 25.04.2 which must be installed on your system, and depends upon a container runtime such as Docker or Singularity. Other containerization systems may work as long as they can convert Docker images to their own format.</p>"},{"location":"getting_started/#nextflow-installation","title":"Nextflow Installation","text":"<p>Nextflow requires Java to be installed on your system. Thereafter, you can install Nextflow by running the following command in your terminal: </p><pre><code>curl -s https://get.nextflow.io | bash\n</code></pre> And you can check that this has been successful by running: <pre><code>./nextflow run hello\n</code></pre> Further information can be found in the Nextflow documentation.<p></p>"},{"location":"getting_started/#container-runtime","title":"Container Runtime","text":"<p>Note, you only need to have one of these installed on your system.</p>"},{"location":"getting_started/#docker-installation","title":"Docker Installation","text":"<p>Instructions for installing Docker can be found on the Docker website. You can check if Docker is installed correctly by running: </p><pre><code>sudo docker run hello-world\n</code></pre><p></p>"},{"location":"getting_started/#singularity-installation","title":"Singularity Installation","text":"<p>You can find instructions for installing Singularity on the Singularity website. You can check if Singularity is installed correctly by running: </p><pre><code>singularity run --containall library://sylabsed/examples/lolcow\n</code></pre><p></p>"},{"location":"getting_started/#installation","title":"Installation","text":"<p>Simply clone this repository into the directory of your choice: </p><pre><code>git clone git@github.com:HIVDiversity/deepleap.git\n</code></pre><p></p>"},{"location":"getting_started/#usage","title":"Usage","text":"<p>The repository has a sample dataset in the <code>sample_data</code> directory which we can use to test the pipeline. Navigate to the <code>deepleap</code> directory, and run the following command, replacing <code>${deepleap_root}</code> with the path to the directory you cloned this repo to:</p> <pre><code>nextflow run -c nextflow.config main.nf \\\n--run_name testA \\\n--samplesheet ${deepleap_root}/sample_data/samplesheet.csv  \\ \n--reference_file ${deepleap_root}/sample_data/hxb2_env.fasta \\\n--aligner MAFFT \\\n-profile test,docker \\\n--region_of_interest envelope-polyprotein \\\n--sample_base_dir ${deepleap_root}/sample_data/input \\\n-output-dir ./testoutput/ \\\n--skip_trim\n</code></pre> <p>Note</p> <p>Depending on your docker setup (if using docker), you may need to enter your sudo password. The prompt for this sometimes gets hidden by the rest of the Nextflow output, so be sure to check your terminal if the pipeline seems to hang. </p>"},{"location":"getting_started/#parameter-explanation","title":"Parameter explanation","text":"<ul> <li><code>--run_name</code>: A name for this pipeline run. Is used in logging and report generation.</li> <li><code>--samplesheet</code>: Path to a CSV file containing sample information. See <code>sample_data/samplesheet.csv</code> for an example.</li> <li><code>--reference_file</code>: Path to a FASTA file containing the reference sequence for alignment.</li> <li><code>--aligner</code>: The alignment tool to use.</li> <li><code>--region_of_interest</code>: The genomic region to focus on. This does not have to be in any format, and is largely present for legacy reasons.</li> <li><code>--sample_base_dir</code>: Path to the directory containing input FASTA files. This is the directory where the files specified in the samplesheet are will be looked for. </li> <li><code>--skip_trim</code>: Optional flag to skip the trimming step. In this case it is necessary since the input files are already trimmed to the region of interest.</li> <li><code>-profile</code>: Specifies the configuration profile to use. In this example, we use the <code>test</code> profile for testing purposes which will cap the memory usage to the maximum available on the machine and the <code>docker</code> profile to run the pipeline using Docker containers. You can also use the <code>singularity</code> profile if you prefer Singularity.</li> <li><code>-c</code>: Specifies the path to the Nextflow configuration file. By default, Nextflow looks for a file named <code>nextflow.config</code> in the current directory, but the option is specified here for clarity.</li> <li><code>-output-dir</code>: Path to the directory where output files will be saved.</li> </ul>"},{"location":"getting_started/#outputs","title":"Outputs","text":"<p>The outputs of the pipeline will be saved in the directory specified by the <code>-output-dir</code> option. The structure of the output directory will be as follows:</p> <p>``` testoutput/ \u251c\u2500\u2500 amino_acid_alignments/ \u251c\u2500\u2500 execution_report/ \u251c\u2500\u2500 functional_filter \u251c\u2500\u2500 logs/ \u251c\u2500\u2500 nucleotide_alignments/ \u251c\u2500\u2500 rejected_sequences/ \u2514\u2500\u2500 trimmed_sequences/</p>"}]}